!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.fn.marquee=function(e){return this.each(function(){var a,i,r,n,s,o,u=t.extend({},t.fn.marquee.defaults,e),d=t(this),p=3,l="animation-play-state",f=!1,c=function(t,e,a){for(var i=["webkit","moz","MS","o",""],r=0;r<i.length;r++)i[r]||(e=e.toLowerCase()),t.addEventListener(i[r]+e,a,!1)},m=function(t){var e=[];for(var a in t)t.hasOwnProperty(a)&&e.push(a+":"+t[a]);return e.push(),"{"+e.join(",")+"}"},$=function(){d.timer=setTimeout(A,u.delayBeforeStart)},g={pause:function(){f&&u.allowCss3Support?i.css(l,"paused"):t.fn.pause&&i.pause(),d.data("runningStatus","paused"),d.trigger("paused")},resume:function(){f&&u.allowCss3Support?i.css(l,"running"):t.fn.resume&&i.resume(),d.data("runningStatus","resumed"),d.trigger("resumed")},toggle:function(){g["resumed"===d.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(d.timer),d.find("*").addBack().off(),d.html(d.find(".js-marquee:first").html())}};if("string"==typeof e){t.isFunction(g[e])&&(i||(i=d.find(".js-marquee-wrapper")),!0===d.data("css3AnimationIsSupported")&&(f=!0),g[e]());return}t.each(u,function(t){if(void 0!==(a=d.attr("data-"+t))){switch(a){case"true":a=!0;break;case"false":a=!1}u[t]=a}}),u.speed&&(u.duration=parseInt(d.width(),10)/u.speed*1e3),s="up"===u.direction||"down"===u.direction,u.gap=u.duplicated?parseInt(u.gap):0,d.wrapInner('<div class="js-marquee"></div>');var _=d.find(".js-marquee").css({"margin-right":u.gap,float:"left"});if(u.duplicated&&_.clone(!0).appendTo(d),d.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),i=d.find(".js-marquee-wrapper"),s){var h=d.height();i.removeAttr("style"),d.height(h),d.find(".js-marquee").css({float:"none","margin-bottom":u.gap,"margin-right":0}),u.duplicated&&d.find(".js-marquee:last").css({"margin-bottom":0});var v=d.find(".js-marquee:first").height()+u.gap;u.startVisible&&!u.duplicated?(u._completeDuration=(parseInt(v,10)+parseInt(h,10))/parseInt(h,10)*u.duration,u.duration=parseInt(v,10)/parseInt(h,10)*u.duration):u.duration=(parseInt(v,10)+parseInt(h,10))/parseInt(h,10)*u.duration}else o=d.find(".js-marquee:first").width()+u.gap,r=d.width(),u.startVisible&&!u.duplicated?(u._completeDuration=(parseInt(o,10)+parseInt(r,10))/parseInt(r,10)*u.duration,u.duration=parseInt(o,10)/parseInt(r,10)*u.duration):u.duration=(parseInt(o,10)+parseInt(r,10))/parseInt(r,10)*u.duration;if(u.duplicated&&(u.duration=u.duration/2),u.allowCss3Support){var y=document.body||document.createElement("div"),x="marqueeAnimation-"+Math.floor(1e7*Math.random()),w="Webkit Moz O ms Khtml".split(" "),S="animation",b="",q="";if(void 0!==y.style.animation&&(q="@keyframes "+x+" ",f=!0),!1===f){for(var j=0;j<w.length;j++)if(void 0!==y.style[w[j]+"AnimationName"]){var C="-"+w[j].toLowerCase()+"-";S=C+S,l=C+l,q="@"+C+"keyframes "+x+" ",f=!0;break}}f&&(b=x+" "+u.duration/1e3+"s "+u.delayBeforeStart/1e3+"s infinite "+u.css3easing,d.data("css3AnimationIsSupported",!0))}var V=function(){i.css("transform","translateY("+("up"===u.direction?h+"px":"-"+v+"px")+")")},k=function(){i.css("transform","translateX("+("left"===u.direction?r+"px":"-"+o+"px")+")")};u.duplicated?(s?u.startVisible?i.css("transform","translateY(0)"):i.css("transform","translateY("+("up"===u.direction?h+"px":"-"+(2*v-u.gap)+"px")+")"):u.startVisible?i.css("transform","translateX(0)"):i.css("transform","translateX("+("left"===u.direction?r+"px":"-"+(2*o-u.gap)+"px")+")"),u.startVisible||(p=1)):u.startVisible?p=2:s?V():k();var A=function(){if(u.duplicated&&(1===p?(u._originalDuration=u.duration,s?u.duration="up"===u.direction?u.duration+h/(v/u.duration):2*u.duration:u.duration="left"===u.direction?u.duration+r/(o/u.duration):2*u.duration,b&&(b=x+" "+u.duration/1e3+"s "+u.delayBeforeStart/1e3+"s "+u.css3easing),p++):2===p&&(u.duration=u._originalDuration,b&&(x+="0",q=t.trim(q)+"0 ",b=x+" "+u.duration/1e3+"s 0s infinite "+u.css3easing),p++)),s?u.duplicated?(p>2&&i.css("transform","translateY("+("up"===u.direction?0:"-"+v+"px")+")"),n={transform:"translateY("+("up"===u.direction?"-"+v+"px":0)+")"}):u.startVisible?2===p?(b&&(b=x+" "+u.duration/1e3+"s "+u.delayBeforeStart/1e3+"s "+u.css3easing),n={transform:"translateY("+("up"===u.direction?"-"+v+"px":h+"px")+")"},p++):3===p&&(u.duration=u._completeDuration,b&&(x+="0",q=t.trim(q)+"0 ",b=x+" "+u.duration/1e3+"s 0s infinite "+u.css3easing),V()):(V(),n={transform:"translateY("+("up"===u.direction?"-"+i.height()+"px":h+"px")+")"}):u.duplicated?(p>2&&i.css("transform","translateX("+("left"===u.direction?0:"-"+o+"px")+")"),n={transform:"translateX("+("left"===u.direction?"-"+o+"px":0)+")"}):u.startVisible?2===p?(b&&(b=x+" "+u.duration/1e3+"s "+u.delayBeforeStart/1e3+"s "+u.css3easing),n={transform:"translateX("+("left"===u.direction?"-"+o+"px":r+"px")+")"},p++):3===p&&(u.duration=u._completeDuration,b&&(x+="0",q=t.trim(q)+"0 ",b=x+" "+u.duration/1e3+"s 0s infinite "+u.css3easing),k()):(k(),n={transform:"translateX("+("left"===u.direction?"-"+o+"px":r+"px")+")"}),d.trigger("beforeStarting"),f){i.css(S,b);var e=q+" { 100%  "+m(n)+"}",a=i.find("style");0!==a.length?a.filter(":last").html(e):t("head").append("<style>"+e+"</style>"),c(i[0],"AnimationIteration",function(){d.trigger("finished")}),c(i[0],"AnimationEnd",function(){A(),d.trigger("finished")})}else i.animate(n,u.duration,u.easing,function(){d.trigger("finished"),u.pauseOnCycle?$():A()});d.data("runningStatus","resumed")};d.on("pause",g.pause),d.on("resume",g.resume),u.pauseOnHover&&(d.on("mouseenter",g.pause),d.on("mouseleave",g.resume)),f&&u.allowCss3Support?A():$()})},t.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,speed:0,gap:20,pauseOnCycle:!1,pauseOnHover:!1,startVisible:!1}});